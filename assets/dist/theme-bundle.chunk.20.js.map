{"version":3,"sources":["webpack:///./assets/js/emthemes-modez/azbrands.js","webpack:///./assets/js/theme/brands.js"],"names":["AZBrands","onReady","$brands","$","length","$azBrands","document","getElementById","data","this","generateAZBrands","updateAZBrands","url","loadMoreBrands","azBrandsTableID","attr","$azBrandsTable","append","i","ch","String","fromCharCode","children","addClass","first","on","event","preventDefault","$a","target","removeClass","each","el","$el","code","letter","charAt","toLowerCase","$group","last","$li","$elIns","$brandGrid","find","j","el2","$el2","code2","insertAfter","appendTo","recursive","utils","api","getPage","template","config","brands","limit","err","resp","$brandsList","nextUrl","Brands","context","themeSettings","brandspage_layout","PageManager"],"mappings":"8KAGqBA,E,oDACjBC,QAAA,WACI,IAAMC,EAAUC,IAAE,sBAClB,GAAID,EAAQE,OAAS,EAAG,CACpB,IAAMC,EAAYF,IAAEG,SAASC,eAAeL,EAAQM,KAAK,cACrDH,EAAUD,OAAS,IACnBK,KAAKC,iBAAiBL,GACtBI,KAAKE,eAAeT,EAASG,IAGjC,IAAMO,EAAMV,EAAQM,KAAK,oBACrBI,GACAH,KAAKI,eAAeX,EAASU,GAAK,K,EAK9CF,iBAAA,SAAiBL,GACb,IAAMS,EAAqBT,EAAUU,KAAK,MAArB,QACfC,EAAiBb,IAAE,IAAIW,GAE7BE,EAAeC,OAAO,+CAEtB,IAAK,IAAIC,EAAI,GAAIA,GAAK,IAAKA,IAAK,CAC5B,IAAIC,EAAK,IACLD,EAAI,MACJC,EAAKC,OAAOC,aAAaH,IAE7Bb,EAAUY,OAAV,4CAA6DE,EAA7D,uBAAsFD,EAAtF,sCAA6HC,EAA7H,oHACAH,EAAeC,OAAf,oBAA0CE,EAA1C,6BAAyED,EAAzE,gCAA0GA,EAA1G,KAAgHC,EAAhH,aAGJd,EAAUiB,WAAWC,SAAS,aAC9BP,EAAeM,WAAWE,QAAQD,SAAS,aAE3CP,EAAeS,GAAG,QAAS,KAAK,SAACC,GAC7BA,EAAMC,iBAEN,IAAMC,EAAKzB,IAAEuB,EAAMG,QAEnBb,EAAeM,SAAS,MAAMQ,YAAY,aAC1CF,EAAGL,SAAS,aAEZ,IAAMM,EAASD,EAAGpB,KAAK,UACnBqB,GACAxB,EAAUiB,SAAS,mBAAmBQ,YAAY,aAClDzB,EAAUiB,SAAV,IAAuBO,GAAUN,SAAS,cAE1ClB,EAAUiB,SAAS,mBAAmBC,SAAS,iB,EAK3DZ,eAAA,SAAeT,EAASG,GACpB,IAAMW,EAAiBb,IAAE,IAAIE,EAAUU,KAAK,MAApB,SACxBb,EAAQoB,SAAS,UAAUS,MAAK,SAACb,EAAGc,GAChC,IAAMC,EAAM9B,IAAE6B,GACRE,EAAOd,OAAOa,EAAIzB,KAAK,eACvB2B,EAASD,EAAKE,OAAO,GAAGC,cAE1BC,EAASjC,EAAUiB,SAAV,gBAAmCa,EAAnC,KACS,IAAlBG,EAAOlC,SACPkC,EAASjC,EAAUiB,WAAWiB,QAGlC,IAAIC,EAAMxB,EAAeM,SAAf,gBAAwCa,EAAxC,KACS,IAAfK,EAAIpC,SACJoC,EAAMxB,EAAeM,WAAWiB,QAGpC,IAEIE,EAFEC,EAAaJ,EAAOK,KAAK,cAG/BD,EAAWpB,SAAS,UAAUS,MAAK,SAACa,EAAGC,GACnC,IAAMC,EAAO3C,IAAE0C,GACTE,EAAQD,EAAKtC,KAAK,cAExB,KAAI0B,EAAOa,GAGP,OAAO,EAFPN,EAASK,KAKbL,EACAR,EAAIe,YAAYP,GAEhBR,EAAIgB,SAASP,O,EAKzB7B,eAAA,SAAeX,EAASU,EAAKsC,GAAW,WACpCC,IAAMC,IAAIC,QAAQzC,EAAK,CACnB0C,SAAU,sCACVC,OAAQ,CACJC,OAAQ,CACJC,MAAO,QAGhB,SAACC,EAAKC,GACL,IAAMC,EAAczD,IAAEwD,GAAMhB,KAAK,sBACjCzC,EAAQe,OAAO2C,EAAYtC,YAE3B,IAAMjB,EAAYF,IAAEG,SAASC,eAAeL,EAAQM,KAAK,cACrDH,EAAUD,OAAS,GACnB,EAAKO,eAAeT,EAASG,GAGjC,IAAMwD,EAAUD,EAAYpD,KAAK,oBAC7BqD,GAAWX,GACX,EAAKrC,eAAeX,EAAS2D,EAASX,O,qGC9GjCY,E,yKACjB7D,QAAA,WACyD,YAAjDQ,KAAKsD,QAAQC,cAAcC,oBACV,IAAIjE,GACZC,W,GAJeiE","file":"theme-bundle.chunk.20.js","sourcesContent":["import $ from 'jquery';\nimport utils from '@bigcommerce/stencil-utils';\n\nexport default class AZBrands {\n    onReady() {\n        const $brands = $('[data-brands-list]');\n        if ($brands.length > 0) {\n            const $azBrands = $(document.getElementById($brands.data('azbrands')));\n            if ($azBrands.length > 0) {\n                this.generateAZBrands($azBrands);\n                this.updateAZBrands($brands, $azBrands);\n            }\n\n            const url = $brands.data('brands-list-next');\n            if (url) {\n                this.loadMoreBrands($brands, url, true);\n            }\n        }\n    }\n\n    generateAZBrands($azBrands) {\n        const azBrandsTableID = `${$azBrands.attr('id')}Table`;\n        const $azBrandsTable = $(`#${azBrandsTableID}`);\n\n        $azBrandsTable.append('<li data-letter=\"\"><a href=\"#\">All</a></li>');\n\n        for (let i = 97; i <= 123; i++) {\n            let ch = '#';\n            if (i < 123) {\n                ch = String.fromCharCode(i);\n            }\n            $azBrands.append(`<div class=\"azBrands-group\" data-letter=\"${ch}\" id=\"azBrands-code-${i}\"><h3 class=\"azBrands-group-title\">${ch}</h3><ul class=\"brandGrid\"></ul><p class=\"azBrands-group-topLink\"><a href=\"#topOfPage\">Top of Page</a></p></div>`);\n            $azBrandsTable.append(`<li data-letter=\"${ch}\"><a href=\"#azBrands-code-${i}\" data-target=\"azBrands-code-${i}\">${ch}</a></li>`);\n        }\n\n        $azBrands.children().addClass('is-active');\n        $azBrandsTable.children().first().addClass('is-active');\n\n        $azBrandsTable.on('click', 'a', (event) => {\n            event.preventDefault();\n\n            const $a = $(event.target);\n\n            $azBrandsTable.children('li').removeClass('is-active');\n            $a.addClass('is-active');\n\n            const target = $a.data('target');\n            if (target) {\n                $azBrands.children('.azBrands-group').removeClass('is-active');\n                $azBrands.children(`#${target}`).addClass('is-active');\n            } else {\n                $azBrands.children('.azBrands-group').addClass('is-active');\n            }\n        });\n    }\n\n    updateAZBrands($brands, $azBrands) {\n        const $azBrandsTable = $(`#${$azBrands.attr('id')}Table`);\n        $brands.children('.brand').each((i, el) => {\n            const $el = $(el);\n            const code = String($el.data('brand-code'));\n            const letter = code.charAt(0).toLowerCase();\n\n            let $group = $azBrands.children(`[data-letter=${letter}]`);\n            if ($group.length === 0) {\n                $group = $azBrands.children().last();\n            }\n\n            let $li = $azBrandsTable.children(`[data-letter=${letter}]`);\n            if ($li.length === 0) {\n                $li = $azBrandsTable.children().last();\n            }\n\n            const $brandGrid = $group.find('.brandGrid');\n\n            let $elIns;\n            $brandGrid.children('.brand').each((j, el2) => {\n                const $el2 = $(el2);\n                const code2 = $el2.data('brand-code');\n\n                if (code < code2) {\n                    $elIns = $el2;\n                } else {\n                    return false;\n                }\n            });\n            if ($elIns) {\n                $el.insertAfter($elIns);\n            } else {\n                $el.appendTo($brandGrid);\n            }\n        });\n    }\n\n    loadMoreBrands($brands, url, recursive) {\n        utils.api.getPage(url, {\n            template: 'papa-supermarket/brands/brands-list',\n            config: {\n                brands: {\n                    limit: 100,\n                },\n            },\n        }, (err, resp) => {\n            const $brandsList = $(resp).find('[data-brands-list]');\n            $brands.append($brandsList.children());\n\n            const $azBrands = $(document.getElementById($brands.data('azbrands')));\n            if ($azBrands.length > 0) {\n                this.updateAZBrands($brands, $azBrands);\n            }\n\n            const nextUrl = $brandsList.data('brands-list-next');\n            if (nextUrl && recursive) {\n                this.loadMoreBrands($brands, nextUrl, recursive);\n            }\n        });\n    }\n}\n","import PageManager from '../page-manager';\nimport AZBrands from '../emthemes-modez/azbrands';\n\nexport default class Brands extends PageManager {\n    onReady() {\n        if (this.context.themeSettings.brandspage_layout === 'aztable') {\n            const azbrands = new AZBrands();\n            azbrands.onReady();\n        }\n    }\n}\n"],"sourceRoot":""}