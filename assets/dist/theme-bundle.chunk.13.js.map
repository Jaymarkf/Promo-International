{"version":3,"sources":["webpack:///./assets/js/theme/home.js","webpack:///./node_modules/lodash/throttle.js","webpack:///./assets/js/emthemes-modez/products-by-category.js","webpack:///./assets/js/emthemes-modez/special-products-tabs.js","webpack:///./assets/js/emthemes-modez/youtube-carousel.js"],"names":["Home","onReady","this","initProductsByCategorySection","initSpecialProductsTabsSection","initMainCarouselSection","initBrandsCarouselSection","context","hasProductsByCategorySortingTabs","initProductsByCategories","hasSpecialProductsTabs","initSpecialProductsTabs","hasMainCarousel","youtubeCarouselFactory","$","$categoriesMenu","updateMainSlideshowHeight","css","window","width","height","length","on","slick","dots","infinite","mobileFirst","slidesToShow","slidesToScroll","responsive","breakpoint","settings","PageManager","debounce","isObject","module","exports","func","wait","options","leading","trailing","TypeError","ProductsByCategory","id","index","sort","limit","$parent","onLoadMore","bind","onCollapse","$scope","$loadMore","$collapse","$loader","append","request","limitQuery","sortQuery","utils","api","getPage","template","err","resp","error","remove","$resp","replaceWith","find","initTabs","initSlick","initBanner","initButtons","loadProducts","page","$content","pageQuery","addClass","removeClass","$currentPage","data","currentPage","hasNextPage","Boolean","children","html","show","hide","foundation","event","tab","attr","Number","e","setTimeout","target","each","i","el","$img","src","hasClass","preventDefault","$hide","$tab","slice","animate","scrollTop","offset","top","ProductsByCategories","lazy","is","loaded","onCheckViewport","bindEvents","load","String","split","map","idStr","trim","one","unbindEvents","off","elTop","elBottom","outerHeight","winTop","innerHeight","init","selector","SpecialProductsTabs","$viewportCheck","$loading","defaultProductsCount","themeSettings","specialProductsTab_lazy_count","specialProductsTab_init_count","onTabToggled","specialProductsTab_more","$el","loadViewportProducts","closest","not","$products","filter","config","products","featured","top_sellers","new","urls","search","removeAttr","existProductIds","get","indexOf","$tabContent","visible","type","$container","empty","mediumMediaQuery","uid","YoutubeSlick","$slick","$videos","onSlickInit","onSlickBeforeChange","onSlickAfterChange","onPlayerReady","onPlayerStateChange","getIframe","matches","mute","playVideo","YT","PlayerState","PLAYING","PAUSED","ENDED","j","vid","$vid","Player","videoId","wmode","playerVars","controls","disablekb","enablejsapi","fs","rel","showinfo","iv_load_policy","modestbranding","events","onStateChange","player","stopVideo","initCarousel","$carousel","mediaQueryListFactory","onYouTubeIframeAPIReady","tag","document","createElement","firstScriptTag","getElementsByTagName","parentNode","insertBefore"],"mappings":"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","file":"theme-bundle.chunk.13.js","sourcesContent":["/**\n * This file is added by Supermarket theme.\n */\n\nimport PageManager from '../page-manager';\nimport initProductsByCategories from '../emthemes-modez/products-by-category';\nimport initSpecialProductsTabs from '../emthemes-modez/special-products-tabs';\nimport youtubeCarouselFactory from '../emthemes-modez/youtube-carousel';\n\nexport default class Home extends PageManager {\n    onReady() {\n        this.initProductsByCategorySection();\n        this.initSpecialProductsTabsSection();\n        this.initMainCarouselSection();\n        this.initBrandsCarouselSection();\n    }\n\n    initProductsByCategorySection() {\n        if (this.context.hasProductsByCategorySortingTabs) {\n            initProductsByCategories();\n        }\n    }\n\n    initSpecialProductsTabsSection() {\n        // Refresh products carousel when tab is open\n        if (this.context.hasSpecialProductsTabs) {\n            initSpecialProductsTabs({ context: this.context });\n        }\n    }\n\n    initMainCarouselSection() {\n        if (this.context.hasMainCarousel) {\n            youtubeCarouselFactory($('[data-slick]'));\n\n            //\n            // Update main slideshow min-height to equal the vertical categories menu\n            //\n            const $categoriesMenu = $('body.papaSupermarket-layout--default .emthemesModez-verticalCategories--open');\n\n            const updateMainSlideshowHeight = () => {\n                $('.heroCarousel-slide').css('min-height', $(window).width() > 768 ? `${$categoriesMenu.height() + 20}px` : '');\n            };\n\n            if ($categoriesMenu.length > 0) {\n                updateMainSlideshowHeight();\n                $(window).on('resize', () => updateMainSlideshowHeight());\n            }\n        }\n    }\n\n    initBrandsCarouselSection() {\n        $('[data-emthemesmodez-brand-carousel]').slick({\n            dots: false,\n            infinite: false,\n            mobileFirst: true,\n            slidesToShow: 2,\n            slidesToScroll: 2,\n            responsive: [\n                {\n                    breakpoint: 1260,\n                    settings: {\n                        slidesToScroll: 2,\n                        slidesToShow: 5,\n                    },\n                },\n                {\n                    breakpoint: 800,\n                    settings: {\n                        slidesToScroll: 2,\n                        slidesToShow: 5,\n                    },\n                },\n                {\n                    breakpoint: 550,\n                    settings: {\n                        slidesToScroll: 2,\n                        slidesToShow: 3,\n                    },\n                },\n            ],\n        });\n    }\n}\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","import { throttle } from 'lodash';\nimport utils from '@bigcommerce/stencil-utils';\nimport foundation from '../theme/global/foundation';\n\nclass ProductsByCategory {\n    constructor({\n        id,\n        index = 0,\n        sort = '',\n        limit = '',\n        $parent,\n    }) {\n        this.onLoadMore = this.onLoadMore.bind(this);\n        this.onCollapse = this.onCollapse.bind(this);\n\n        this.id = id;\n        this.index = index;\n        this.sort = sort;\n        this.limit = limit;\n        this.$parent = $parent;\n        this.$scope = $('<div class=\"emthemesModez-productsByCategoryTabs-loading\"></div>');\n        this.$loadMore = $();\n        this.$collapse = $();\n        this.$loader = $();\n\n        this.$parent.append(this.$scope);\n\n        this.request();\n    }\n\n    request() {\n        const limitQuery = this.limit ? `&limit=${this.limit}` : '';\n        const sortQuery = this.sort ? `&sort=${this.sort}` : '';\n        const template = 'papa-supermarket/products-by-category-sorting-tabs/section';\n\n        utils.api.getPage(`/categories.php?category=${this.id}${limitQuery}${sortQuery}`, { template }, (err, resp) => {\n            if (err || !resp || resp.error) {\n                this.$scope.remove();\n                return;\n            }\n\n            const $resp = $(resp);\n            this.$scope.replaceWith($resp);\n            this.$scope = $resp;\n            this.$loader = this.$scope.find('.loader');\n\n            this.initTabs();\n            this.initSlick();\n            this.initBanner();\n            this.initButtons();\n        });\n    }\n\n    loadProducts({\n        sort = '',\n        page = '',\n        $content,\n    }) {\n        const limitQuery = this.limit ? `&limit=${this.limit}` : '';\n        const sortQuery = sort ? `&sort=${sort}` : '';\n        const pageQuery = page ? `&page=${page}` : '';\n        const template = 'papa-supermarket/products-by-category-sorting-tabs/products';\n\n        this.$loader.addClass('loading');\n\n        utils.api.getPage(`/categories.php?category=${this.id}${limitQuery}${sortQuery}${pageQuery}`, { template }, (err, resp) => {\n            this.$loader.removeClass('loading');\n\n            if (err || !resp) {\n                return;\n            }\n\n            const $resp = $(resp);\n            const $currentPage = $content.find('[data-current-page]');\n\n            if ($currentPage.length > 0) {\n                $currentPage.data({\n                    currentPage: $resp.data('currentPage'),\n                    hasNextPage: Boolean($resp.data('hasNextPage')),\n                });\n                $currentPage.find('.productGrid').append($resp.find('.productGrid').children());\n            } else {\n                $content\n                    .html(resp)\n                    .data('loaded', true);\n            }\n\n            this.initSlick();\n\n            if ($resp.data('hasNextPage')) {\n                this.$loadMore.show();\n            } else {\n                this.$loadMore.hide();\n            }\n\n            if ($resp.data('currentPage') > 1) {\n                this.$collapse.show();\n            } else {\n                this.$collapse.hide();\n            }\n        });\n    }\n\n    initTabs() {\n        foundation(this.$scope);\n\n        this.$scope.find('.tab-content.is-active').data('loaded', true);\n\n        $('[data-tab]', this.$scope).on('toggled', (event, tab) => {\n            const $content = $($(tab).find('a').attr('href'));\n\n            if ($content.data('loaded')) {\n                const $currentPage = $content.find('[data-current-page]');\n\n                if ($currentPage.data('hasNextPage')) {\n                    this.$loadMore.show();\n                } else {\n                    this.$loadMore.hide();\n                }\n\n                if (Number($currentPage.data('currentPage')) > 1) {\n                    this.$collapse.show();\n                } else {\n                    this.$collapse.hide();\n                }\n\n                return;\n            }\n\n            this.$loadMore.hide();\n            this.$collapse.hide();\n\n            this.loadProducts({\n                sort: $content.data('sort'),\n                $content,\n            });\n        });\n    }\n\n    initSlick() {\n        // init products carousel\n        $('[data-slick]', this.$scope)\n            .on('init', e => setTimeout(() => {\n                // init nested carousel\n                $('[data-slick-nested]', e.target).each((i, el) => {\n                    $(el).slick($(el).data('slickNested'));\n                });\n            }, 200))\n            .on('breakpoint', e => setTimeout(() => {\n                $('[data-slick-nested]', e.target).slick('setPosition');\n            }, 200))\n            .slick();\n    }\n\n    initBanner() {\n        const $img = this.$scope.find('[data-banner] img');\n        const src = `/product_images/uploaded_images/products-by-category-${this.index + 1}.jpg?c=2`;\n\n        if ($img.hasClass('lazyload')) {\n            $img.attr('data-src', src);\n        } else {\n            $img.attr('src', src);\n        }\n    }\n\n    initButtons() {\n        this.$loadMore = this.$scope.find('.loadMore').hide();\n        this.$collapse = this.$scope.find('.collapse').hide();\n\n        if (this.$scope.find('.tab-content.is-active [data-current-page]').data('hasNextPage')) {\n            this.$loadMore.show();\n        }\n\n        this.$loadMore.on('click', this.onLoadMore);\n        this.$collapse.on('click', this.onCollapse);\n    }\n\n    onLoadMore(event) {\n        event.preventDefault();\n\n        const $content = this.$scope.find('.tab-content.is-active');\n        const $currentPage = $content.find('[data-current-page]');\n        const $hide = $content.find('.product.hide');\n\n        if ($hide.length > 0) {\n            $hide.show().removeClass('hide');\n            this.$collapse.show();\n\n            if (!$currentPage.data('hasNextPage')) {\n                this.$loadMore.hide();\n            }\n            return;\n        }\n\n        if ($currentPage.data('hasNextPage')) {\n            const sort = $content.data('sort');\n            const page = Number($currentPage.data('currentPage')) + 1;\n            this.loadProducts({\n                sort,\n                page,\n                $content,\n            });\n        } else {\n            this.$loadMore.hide();\n        }\n    }\n\n    onCollapse(event) {\n        event.preventDefault();\n\n        if (this.limit) {\n            const $tab = this.$scope.find('.tab-content.is-active');\n            const $hide = $tab.find('.product').slice(this.limit).hide().addClass('hide');\n\n            if ($hide.length > 0) {\n                this.$loadMore.show();\n            }\n\n            $('html, body').animate({\n                scrollTop: $tab.offset().top,\n            }, 500);\n        }\n\n        this.$collapse.hide();\n    }\n}\n\nclass ProductsByCategories {\n    constructor($scope) {\n        this.$scope = $scope;\n        this.lazy = this.$scope.is('[data-lazy]');\n        this.loaded = false;\n\n        this.onCheckViewport = throttle(this.onCheckViewport.bind(this), 100);\n\n        this.bindEvents();\n\n        if (!this.lazy) {\n            this.load();\n        }\n    }\n\n    load() {\n        this.loaded = true;\n\n        const sort = this.$scope.data('sort');\n        const limit = this.$scope.data('limit');\n\n        String(this.$scope.data('pbcstGroup')).split(',').map((idStr, index) => new ProductsByCategory({\n            id: idStr.trim(),\n            index,\n            sort,\n            limit,\n            $parent: this.$scope,\n        }));\n    }\n\n    bindEvents() {\n        $('body').one('beforeload.instantload', () => this.unbindEvents());\n\n        if (this.lazy) {\n            $(window).on('load resize scroll', this.onCheckViewport);\n        }\n    }\n\n    unbindEvents() {\n        $(window).off('load resize scroll', this.onCheckViewport);\n    }\n\n    onCheckViewport() {\n        if (this.loaded) {\n            $(window).off('load resize scroll', this.onCheckViewport);\n            return;\n        }\n\n        if (!this.$scope.is(':visible')) {\n            return;\n        }\n\n        const offset = 300;\n        const elTop = this.$scope.offset().top;\n        const elBottom = elTop + this.$scope.outerHeight();\n        const winTop = $(window).scrollTop();\n        const winBottom = winTop + $(window).innerHeight();\n\n        if (elTop - offset < winBottom && elBottom + offset > winTop) {\n            this.load();\n        }\n    }\n}\n\nexport default function init(selector = '[data-pbcst-group]') {\n    $(selector).each((i, el) => new ProductsByCategories($(el)));\n}\n","import utils from '@bigcommerce/stencil-utils';\nimport { throttle } from 'lodash';\n\nclass SpecialProductsTabs {\n    constructor($scope, context) {\n        this.$scope = $scope;\n        this.context = context;\n        this.$viewportCheck = $scope.find('[data-viewport-check]');\n        this.$loading = $scope.find('.loading').hide();\n        this.$loadMore = $scope.find('.loadMore').hide();\n        this.$collapse = $scope.find('.collapse').hide();\n        this.defaultProductsCount = this.context.themeSettings.specialProductsTab_lazy_count + this.context.themeSettings.specialProductsTab_init_count;\n\n        this.onCheckViewport = throttle(this.onCheckViewport.bind(this), 100);\n        this.onLoadMore = this.onLoadMore.bind(this);\n        this.onCollapse = this.onCollapse.bind(this);\n        this.onTabToggled = this.onTabToggled.bind(this);\n\n        if (this.context.themeSettings.specialProductsTab_more) {\n            this.$loadMore.show();\n        }\n\n        this.bindEvents();\n    }\n\n    bindEvents() {\n        $('body').one('beforeload.instantload', () => this.unbindEvents());\n\n        if (this.$viewportCheck.length > 0) {\n            $(window).on('load resize scroll', this.onCheckViewport);\n        }\n\n        if (this.context.themeSettings.specialProductsTab_more) {\n            this.$loadMore.on('click', this.onLoadMore);\n        }\n\n        this.$collapse.on('click', this.onCollapse);\n\n        $('[data-tab]', this.$scope).on('toggled', this.onTabToggled);\n    }\n\n    unbindEvents() {\n        $(window).off('load resize scroll', this.onCheckViewport);\n        this.$loadMore.off('click', this.onLoadMore);\n        this.$collapse.off('click', this.onCollapse);\n        $('[data-tab]', this.$scope).off('toggled', this.onTabToggled);\n    }\n\n    onCheckViewport() {\n        const offset = 250;\n\n        this.$viewportCheck.each((i, el) => {\n            const $el = $(el);\n\n            if (!$el.is(':visible')) {\n                return;\n            }\n\n            const elTop = $el.offset().top;\n            const elBottom = elTop + $el.outerHeight();\n            const winTop = $(window).scrollTop();\n            const winBottom = winTop + $(window).innerHeight();\n\n            if (elTop - offset < winBottom && elBottom + offset > winTop) {\n                this.loadViewportProducts(\n                    $el.data('viewportCheck'),\n                    $el.closest('.tab-content').find('.productGrid, .productList, .productCarousel'),\n                );\n\n                this.$viewportCheck = this.$viewportCheck.not($el);\n                $el.remove();\n            }\n        });\n    }\n\n    onLoadMore(event) {\n        event.preventDefault();\n\n        const $tab = this.$scope.find('.tab-content.is-active');\n\n        if (!$tab.data('loadedMore')) {\n            $tab.data('loadedMore', true);\n\n            const template = 'papa-supermarket/special-products-tabs/products';\n            const limit = 100;\n            const config = { products: {} };\n            const type = $tab.data('productType');\n\n            switch (type) {\n            case 'featured':\n                config.products.featured = { limit };\n                break;\n            case 'top':\n                config.products.top_sellers = { limit };\n                break;\n            case 'new':\n            default:\n                config.products.new = { limit };\n                break;\n            }\n\n            this.$loading.show();\n            this.$loadMore.attr('disabled', true);\n\n            utils.api.getPage(this.context.urls.search, { template, config }, (err, resp) => {\n                this.$loading.hide();\n                this.$loadMore.removeAttr('disabled');\n\n                if (err || !resp) {\n                    return;\n                }\n\n                const existProductIds = $tab\n                    .find('.product, .productCarousel-slide')\n                    .map((i, el) => $(el).data('productId')).get();\n\n                const $products = $(resp)\n                    .find('.product, .productCarousel-slide')\n                    .filter((i, el) => existProductIds.indexOf($(el).data('productId')) === -1);\n\n                $products\n                    .slice(this.defaultProductsCount)\n                    .hide();\n\n                $tab\n                    .find('.productGrid, .productList, .productCarousel')\n                    .append($products);\n\n                if (!$products.is(':hidden')) {\n                    this.$loadMore.hide();\n                }\n\n                if ($products.length > 0) {\n                    this.$collapse.show();\n                }\n            });\n        } else {\n            const $products = $tab.find('.product, .productCarousel-slide').filter(':hidden');\n\n            $products\n                .slice(0, this.defaultProductsCount)\n                .show();\n\n            if (!$products.is(':hidden')) {\n                this.$loadMore.hide();\n            }\n\n            this.$collapse.show();\n        }\n    }\n\n    onCollapse(event) {\n        event.preventDefault();\n\n        const $tab = this.$scope.find('.tab-content.is-active');\n        const $products = $tab.find('.product, .productCarousel-slide');\n\n        $products.slice(this.defaultProductsCount).hide();\n\n        this.$collapse.hide();\n\n        if ($products.length > this.defaultProductsCount) {\n            this.$loadMore.show();\n        }\n\n        $('html, body').animate({\n            scrollTop: $tab.offset().top,\n        });\n    }\n\n    onTabToggled(event, tab) {\n        const $tabContent = $($('a', tab).attr('href'));\n\n        $('[data-slick]', $tabContent).slick('setPosition');\n\n        if (this.$viewportCheck.length > 0) {\n            this.onCheckViewport();\n        }\n\n        const $products = $tabContent.find('.product, .productCarousel-slide');\n        const visible = $products.filter(':visible').length;\n\n        if (this.context.themeSettings.specialProductsTab_more) {\n            if (!$tabContent.data('loadedMore') || $products.is(':hidden')) {\n                this.$loadMore.show();\n            } else {\n                this.$loadMore.hide();\n            }\n\n            if (visible > this.defaultProductsCount) {\n                this.$collapse.show();\n            } else {\n                this.$collapse.hide();\n            }\n        }\n    }\n\n    loadViewportProducts(type, $container) {\n        const template = 'papa-supermarket/special-products-tabs/products';\n        const limit = this.defaultProductsCount;\n        const config = { products: {} };\n\n        switch (type) {\n        case 'featured':\n            config.products.featured = { limit };\n            break;\n        case 'top':\n            config.products.top_sellers = { limit };\n            break;\n        case 'new':\n        default:\n            config.products.new = { limit };\n            break;\n        }\n\n        this.$loading.show();\n\n        utils.api.getPage(this.context.urls.search, { template, config }, (err, resp) => {\n            this.$loading.hide();\n\n            if (err || !resp) {\n                return;\n            }\n\n            const $products = $(resp).find('.product, .productCarousel-slide');\n            $container.empty().append($products);\n        });\n    }\n}\n\nexport default function init({ selector = '[data-special-products-tabs]', context }) {\n    $(selector).each((i, el) => {\n        const $el = $(el);\n        if (!$el.data('specialProductsTabsInstance')) {\n            $el.data('specialProductsTabsInstance', new SpecialProductsTabs($el, context));\n        }\n    });\n}\n","import mediaQueryListFactory from '../theme/common/media-query-list';\n\nlet mediumMediaQuery;\nlet uid = 1;\n\nclass YoutubeSlick {\n    constructor(slick) {\n        this.$slick = $(slick);\n        this.$videos = this.$slick.find('[data-youtube]');\n        this.onSlickInit = this.onSlickInit.bind(this);\n        this.onSlickBeforeChange = this.onSlickBeforeChange.bind(this);\n        this.onSlickAfterChange = this.onSlickAfterChange.bind(this);\n        this.onPlayerReady = this.onPlayerReady.bind(this);\n        this.onPlayerStateChange = this.onPlayerStateChange.bind(this);\n        this.bindEvents();\n    }\n\n    bindEvents() {\n        if (this.$slick.hasClass('slick-initialized')) {\n            this.onSlickInit();\n        }\n\n        this.$slick.on('init', this.onSlickInit);\n        this.$slick.on('beforeChange', this.onSlickBeforeChange);\n        this.$slick.on('afterChange', this.onSlickAfterChange);\n    }\n\n    onPlayerReady(event) {\n        // store player object for use later\n        $(event.target.getIframe()).closest('.slick-slide').data('youtube-player', event.target);\n\n        // On desktop: Play video if first slide is video\n        if (mediumMediaQuery.matches) {\n            setTimeout(() => {\n                if ($(event.target.getIframe()).closest('.slick-slide').hasClass('slick-active')) {\n                    if (this.$slick.is('[data-youtube-mute]')) {\n                        event.target.mute();\n                    }\n                    if (this.$slick.is('[data-youtube-autoplay]')) {\n                        this.$slick.slick('slickPause');\n                        event.target.playVideo();\n                    }\n                }\n            }, 200);\n        }\n    }\n\n    onPlayerStateChange(event) {\n        // Stop slick autoplay when video start playing\n        if (event.data === YT.PlayerState.PLAYING) { // eslint-disable-line\n            this.$slick.addClass('slick-video-playing');\n            this.$slick.slick('slickPause');\n        }\n\n        if (event.data === YT.PlayerState.PAUSED) { // eslint-disable-line\n            this.$slick.removeClass('slick-video-playing');\n        }\n\n        // go to next slide and enable autoplay back when video ended\n        if (event.data === YT.PlayerState.ENDED) { // eslint-disable-line\n            this.$slick.removeClass('slick-video-playing');\n            this.$slick.slick('slickPlay');\n            this.$slick.slick('slickNext');\n        }\n    }\n\n    onSlickInit() {\n        this.$videos.each((j, vid) => {\n            const $vid = $(vid);\n            const id = `youtube_player_${uid++}`;\n\n            $vid.attr('id', id);\n\n            // init player\n            const player = new YT.Player(id, { // eslint-disable-line\n                // host: 'http://www.youtube.com',\n                videoId: $vid.data('youtube'),\n                wmode: 'transparent',\n                playerVars: {\n                    controls: 0,\n                    disablekb: 1,\n                    enablejsapi: 1,\n                    fs: 0,\n                    rel: 0,\n                    showinfo: 0,\n                    iv_load_policy: 3,\n                    modestbranding: 1,\n                    wmode: 'transparent',\n                },\n                events: {\n                    onReady: this.onPlayerReady,\n                    onStateChange: this.onPlayerStateChange,\n                },\n            });\n        });\n    }\n\n    onSlickBeforeChange() {\n        const player = this.$slick.find('.slick-slide.slick-active').data('youtube-player');\n        if (player) {\n            player.stopVideo();\n        }\n    }\n\n    onSlickAfterChange() {\n        // Enable auto slide\n        this.$slick.slick('slickPlay');\n\n        // On desktop:\n        // - Auto play video when open next slide\n        // - Stop auto slide\n        if (mediumMediaQuery.matches) {\n            const player = this.$slick.find('.slick-slide.slick-active').data('youtube-player');\n            if (player) {\n                if (this.$slick.is('[data-youtube-mute]')) {\n                    player.mute();\n                }\n                if (this.$slick.is('[data-youtube-autoplay]')) {\n                    this.$slick.slick('slickPause');\n                    player.playVideo();\n                }\n            }\n        }\n    }\n}\n\nfunction initCarousel($carousel) {\n    $carousel.each((i, slick) => {\n        const $slick = $(slick);\n        if ($slick.find('[data-youtube]').length > 0) {\n            $slick.addClass('slick-slider--video');\n            new YoutubeSlick(slick); // eslint-disable-line\n        }\n    });\n}\n\nexport default function youtubeCarouselFactory($carousel) {\n    if ($carousel.find('[data-youtube]').length > 0) {\n        mediumMediaQuery = mediaQueryListFactory('medium');\n\n        if (typeof window.onYouTubeIframeAPIReady === 'undefined') {\n            window.onYouTubeIframeAPIReady = initCarousel.bind(window, $carousel);\n\n            // Load the IFrame Player API code asynchronously.\n            const tag = document.createElement('script');\n            tag.src = 'https://www.youtube.com/player_api';\n            const firstScriptTag = document.getElementsByTagName('script')[0];\n            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n            // $('body').append('<script src=\"https://www.youtube.com/iframe_api\"></script>');\n        } else {\n            initCarousel($carousel);\n        }\n    }\n}\n"],"sourceRoot":""}